[gd_scene load_steps=11 format=3 uid="uid://d2smjd2mabxsc"]

[ext_resource type="PackedScene" uid="uid://do3ooc0q0aq8m" path="res://Scenes/frame_thread.tscn" id="1_vk57k"]
[ext_resource type="PackedScene" uid="uid://dn2b5bcbl5j78" path="res://Scenes/spider.tscn" id="3_xfk5q"]
[ext_resource type="Texture2D" uid="uid://cna2dwayaxq5d" path="res://Assets/Sprites/Backgrounds/Bg1.png" id="4_7p6j4"]
[ext_resource type="PackedScene" uid="uid://qyetern4ydyv" path="res://Scenes/insect_spawner.tscn" id="4_6444e"]
[ext_resource type="PackedScene" uid="uid://b4piodq1b1dmu" path="res://Scenes/scoreboard.tscn" id="5_6444e"]
[ext_resource type="Script" uid="uid://kf5txjfl6gnc" path="res://Scripts/progress_bar.gd" id="6_evi0p"]
[ext_resource type="PackedScene" uid="uid://cdexl6ljljvvy" path="res://Scenes/countdown.tscn" id="7_lsmp6"]

[sub_resource type="CircleShape2D" id="CircleShape2D_xfk5q"]
radius = 442.45

[sub_resource type="CircleShape2D" id="CircleShape2D_7p6j4"]
radius = 3.0

[sub_resource type="FontFile" id="FontFile_lsmp6"]
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0
cache/0/2/0/ascent = 0.0
cache/0/2/0/descent = 0.0
cache/0/2/0/underline_position = 0.0
cache/0/2/0/underline_thickness = 0.0
cache/0/2/0/scale = 1.0
cache/0/3/0/ascent = 0.0
cache/0/3/0/descent = 0.0
cache/0/3/0/underline_position = 0.0
cache/0/3/0/underline_thickness = 0.0
cache/0/3/0/scale = 1.0
cache/0/4/0/ascent = 0.0
cache/0/4/0/descent = 0.0
cache/0/4/0/underline_position = 0.0
cache/0/4/0/underline_thickness = 0.0
cache/0/4/0/scale = 1.0
cache/0/5/0/ascent = 0.0
cache/0/5/0/descent = 0.0
cache/0/5/0/underline_position = 0.0
cache/0/5/0/underline_thickness = 0.0
cache/0/5/0/scale = 1.0
cache/0/60/0/ascent = 0.0
cache/0/60/0/descent = 0.0
cache/0/60/0/underline_position = 0.0
cache/0/60/0/underline_thickness = 0.0
cache/0/60/0/scale = 1.0
cache/0/95/0/ascent = 0.0
cache/0/95/0/descent = 0.0
cache/0/95/0/underline_position = 0.0
cache/0/95/0/underline_thickness = 0.0
cache/0/95/0/scale = 1.0
cache/0/115/0/ascent = 0.0
cache/0/115/0/descent = 0.0
cache/0/115/0/underline_position = 0.0
cache/0/115/0/underline_thickness = 0.0
cache/0/115/0/scale = 1.0
cache/0/30/0/ascent = 0.0
cache/0/30/0/descent = 0.0
cache/0/30/0/underline_position = 0.0
cache/0/30/0/underline_thickness = 0.0
cache/0/30/0/scale = 1.0
cache/0/25/0/ascent = 0.0
cache/0/25/0/descent = 0.0
cache/0/25/0/underline_position = 0.0
cache/0/25/0/underline_thickness = 0.0
cache/0/25/0/scale = 1.0
cache/0/20/0/ascent = 0.0
cache/0/20/0/descent = 0.0
cache/0/20/0/underline_position = 0.0
cache/0/20/0/underline_thickness = 0.0
cache/0/20/0/scale = 1.0
cache/0/23/0/ascent = 0.0
cache/0/23/0/descent = 0.0
cache/0/23/0/underline_position = 0.0
cache/0/23/0/underline_thickness = 0.0
cache/0/23/0/scale = 1.0
cache/0/32/0/ascent = 0.0
cache/0/32/0/descent = 0.0
cache/0/32/0/underline_position = 0.0
cache/0/32/0/underline_thickness = 0.0
cache/0/32/0/scale = 1.0

[node name="Level 1" type="Node2D"]

[node name="Gravitational Attractor" type="Area2D" parent="."]
position = Vector2(-1, -6)
collision_layer = 0
gravity_space_override = 3
gravity_point = true
gravity_point_center = Vector2(0, 0)
gravity_direction = Vector2(0, 0)
gravity = 100.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Gravitational Attractor"]
shape = SubResource("CircleShape2D_xfk5q")

[node name="Origin Snap Zone" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Origin Snap Zone"]
shape = SubResource("CircleShape2D_7p6j4")

[node name="Camera" type="Camera2D" parent="."]

[node name="FrameThreads" type="Node" parent="."]

[node name="Line 1" parent="FrameThreads" instance=ExtResource("1_vk57k")]
rotation = 4.71239
points = PackedVector2Array(0, 0, 400, 0)

[node name="Line 2" parent="FrameThreads" instance=ExtResource("1_vk57k")]
rotation = 5.75959
points = PackedVector2Array(0, 0, 600, 0)

[node name="Line 3" parent="FrameThreads" instance=ExtResource("1_vk57k")]
rotation = 0.523599
points = PackedVector2Array(0, 0, 600, 0)

[node name="Line 4" parent="FrameThreads" instance=ExtResource("1_vk57k")]
rotation = 1.5708
points = PackedVector2Array(0, 0, 400, 0)

[node name="Line 5" parent="FrameThreads" instance=ExtResource("1_vk57k")]
rotation = 2.61799
points = PackedVector2Array(0, 0, 600, 0)

[node name="Line 6" parent="FrameThreads" instance=ExtResource("1_vk57k")]
rotation = 3.66519
points = PackedVector2Array(0, 0, 600, 0)

[node name="spider" parent="." node_paths=PackedStringArray("frames", "initial_frame") instance=ExtResource("3_xfk5q")]
position = Vector2(0, -100)
rotation = 4.71239
frames = [NodePath("../FrameThreads/Line 1"), NodePath("../FrameThreads/Line 2"), NodePath("../FrameThreads/Line 3"), NodePath("../FrameThreads/Line 4"), NodePath("../FrameThreads/Line 5"), NodePath("../FrameThreads/Line 6")]
initial_frame = NodePath("../FrameThreads/Line 1")

[node name="Background" type="Sprite2D" parent="."]
z_index = -1
scale = Vector2(0.375, 0.375)
texture = ExtResource("4_7p6j4")

[node name="InsectSpawner" parent="." node_paths=PackedStringArray("frames") instance=ExtResource("4_6444e")]
frames = [NodePath("../FrameThreads/Line 1"), NodePath("../FrameThreads/Line 2"), NodePath("../FrameThreads/Line 3"), NodePath("../FrameThreads/Line 4"), NodePath("../FrameThreads/Line 5"), NodePath("../FrameThreads/Line 6")]
Level_1 = Array[float]([5.0, 120.0])

[node name="Scoreboard" parent="." instance=ExtResource("5_6444e")]
position = Vector2(432, 3)
one_star = -1
two_star = 1
three_star = 2

[node name="ProgressBar" type="ProgressBar" parent="." node_paths=PackedStringArray("spider")]
offset_left = -425.0
offset_top = -353.0
offset_right = -289.0
offset_bottom = -326.0
show_percentage = false
script = ExtResource("6_evi0p")
spider = NodePath("../spider")

[node name="Timer" type="Timer" parent="ProgressBar"]

[node name="Countdown" parent="." instance=ExtResource("7_lsmp6")]
offset_left = 422.0
offset_top = 83.0
offset_right = 503.0
offset_bottom = 131.0
theme_override_fonts/normal_font = SubResource("FontFile_lsmp6")
theme_override_font_sizes/bold_italics_font_size = 3

[connection signal="body_entered" from="Origin Snap Zone" to="spider" method="_on_origin_snap_zone_body_entered"]
[connection signal="body_exited" from="Origin Snap Zone" to="spider" method="_on_origin_snap_zone_body_exited"]
[connection signal="InsectEaten" from="spider" to="InsectSpawner" method="_on_spider_insect_eaten"]
[connection signal="InsectEaten" from="spider" to="Scoreboard" method="_on_spider_insect_eaten"]
[connection signal="InsectEaten" from="spider" to="ProgressBar" method="_on_spider_insect_eaten"]
[connection signal="LoopCreated" from="spider" to="Scoreboard" method="_on_spider_loop_created"]
[connection signal="ThreadCreated" from="spider" to="InsectSpawner" method="_on_spider_thread_created"]
[connection signal="ThreadCreated" from="spider" to="Scoreboard" method="_on_spider_thread_created"]
[connection signal="ThreadCreated" from="spider" to="ProgressBar" method="_on_spider_thread_created"]
[connection signal="InsectCreated" from="InsectSpawner" to="spider" method="_on_insect_spawner_insect_created"]
[connection signal="WaspCreated" from="InsectSpawner" to="spider" method="_on_insect_spawner_wasp_created"]
[connection signal="timeout" from="ProgressBar/Timer" to="ProgressBar" method="_on_timer_timeout"]
