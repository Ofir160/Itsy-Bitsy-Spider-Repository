[gd_scene load_steps=12 format=3 uid="uid://d2smjd2mabxsc"]

[ext_resource type="PackedScene" uid="uid://do3ooc0q0aq8m" path="res://Scenes/frame_thread.tscn" id="1_rb0md"]
[ext_resource type="PackedScene" uid="uid://dn2b5bcbl5j78" path="res://Scenes/spider.tscn" id="2_u5ghp"]
[ext_resource type="Texture2D" uid="uid://cna2dwayaxq5d" path="res://Assets/Sprites/Backgrounds/Bg1.png" id="3_hwvp3"]
[ext_resource type="PackedScene" uid="uid://qyetern4ydyv" path="res://Scenes/insect_spawner.tscn" id="4_afv7b"]
[ext_resource type="PackedScene" uid="uid://b4piodq1b1dmu" path="res://Scenes/scoreboard.tscn" id="5_7r2dd"]
[ext_resource type="PackedScene" uid="uid://cdexl6ljljvvy" path="res://Scenes/countdown.tscn" id="6_k2mw1"]
[ext_resource type="PackedScene" uid="uid://cjrpl51xljqhi" path="res://Scenes/progress_bar.tscn" id="7_tjl6l"]
[ext_resource type="PackedScene" uid="uid://csh82sjxaxlob" path="res://Scenes/audio.tscn" id="8_3628d"]
[ext_resource type="PackedScene" uid="uid://dhmcm0o7dreu4" path="res://Scenes/popup_spawner.tscn" id="9_irw6p"]

[sub_resource type="CircleShape2D" id="CircleShape2D_xfk5q"]
radius = 442.45

[sub_resource type="CircleShape2D" id="CircleShape2D_7p6j4"]
radius = 3.0

[node name="Level 1" type="Node2D"]

[node name="Gravitational Attractor" type="Area2D" parent="."]
position = Vector2(-1, -6)
collision_layer = 0
gravity_space_override = 3
gravity_point = true
gravity_point_center = Vector2(0, 0)
gravity_direction = Vector2(0, 0)
gravity = 100.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Gravitational Attractor"]
shape = SubResource("CircleShape2D_xfk5q")

[node name="Origin Snap Zone" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Origin Snap Zone"]
shape = SubResource("CircleShape2D_7p6j4")

[node name="Camera" type="Camera2D" parent="."]

[node name="FrameThreads" type="Node" parent="."]

[node name="Line 1" parent="FrameThreads" instance=ExtResource("1_rb0md")]
rotation = 4.71239
points = PackedVector2Array(0, 0, 400, 0)

[node name="Line 2" parent="FrameThreads" instance=ExtResource("1_rb0md")]
rotation = 5.75959
points = PackedVector2Array(0, 0, 600, 0)

[node name="Line 3" parent="FrameThreads" instance=ExtResource("1_rb0md")]
rotation = 0.523599
points = PackedVector2Array(0, 0, 600, 0)

[node name="Line 4" parent="FrameThreads" instance=ExtResource("1_rb0md")]
rotation = 1.5708
points = PackedVector2Array(0, 0, 400, 0)

[node name="Line 5" parent="FrameThreads" instance=ExtResource("1_rb0md")]
rotation = 2.61799
points = PackedVector2Array(0, 0, 600, 0)

[node name="Line 6" parent="FrameThreads" instance=ExtResource("1_rb0md")]
rotation = 3.66519
points = PackedVector2Array(0, 0, 600, 0)

[node name="spider" parent="." node_paths=PackedStringArray("frames", "initial_frame") instance=ExtResource("2_u5ghp")]
position = Vector2(0, -100)
rotation = 4.71239
frames = [NodePath("../FrameThreads/Line 1"), NodePath("../FrameThreads/Line 2"), NodePath("../FrameThreads/Line 3"), NodePath("../FrameThreads/Line 4"), NodePath("../FrameThreads/Line 5"), NodePath("../FrameThreads/Line 6")]
initial_frame = NodePath("../FrameThreads/Line 1")

[node name="Background" type="Sprite2D" parent="."]
z_index = -1
scale = Vector2(0.375, 0.375)
texture = ExtResource("3_hwvp3")

[node name="InsectSpawner" parent="." node_paths=PackedStringArray("frames") instance=ExtResource("4_afv7b")]
frames = [NodePath("../FrameThreads/Line 1"), NodePath("../FrameThreads/Line 2"), NodePath("../FrameThreads/Line 3"), NodePath("../FrameThreads/Line 4"), NodePath("../FrameThreads/Line 5"), NodePath("../FrameThreads/Line 6")]
Level_1 = Array[float]([60.0, 120.0])

[node name="Scoreboard" parent="." instance=ExtResource("5_7r2dd")]
position = Vector2(432, 3)
one_star = -1
two_star = 2400
three_star = 2800

[node name="Countdown" parent="." instance=ExtResource("6_k2mw1")]
offset_left = 422.0
offset_top = 83.0
offset_right = 503.0
offset_bottom = 131.0
theme_override_font_sizes/bold_italics_font_size = 3

[node name="ProgressBar" parent="." node_paths=PackedStringArray("spider") instance=ExtResource("7_tjl6l")]
offset_left = -400.0
offset_top = -330.0
offset_right = -264.0
offset_bottom = -303.0
spider = NodePath("../spider")

[node name="Audio" parent="." instance=ExtResource("8_3628d")]
offset_left = -200.0
offset_top = -390.0
offset_right = -27.0
offset_bottom = -211.0

[node name="PopupSpawner" parent="." node_paths=PackedStringArray("spider") instance=ExtResource("9_irw6p")]
spider = NodePath("../spider")

[connection signal="body_entered" from="Origin Snap Zone" to="spider" method="_on_origin_snap_zone_body_entered"]
[connection signal="body_exited" from="Origin Snap Zone" to="spider" method="_on_origin_snap_zone_body_exited"]
[connection signal="InsectEaten" from="spider" to="InsectSpawner" method="_on_spider_insect_eaten"]
[connection signal="InsectEaten" from="spider" to="Scoreboard" method="_on_spider_insect_eaten"]
[connection signal="LoopCreated" from="spider" to="Scoreboard" method="_on_spider_loop_created"]
[connection signal="ThreadCreated" from="spider" to="InsectSpawner" method="_on_spider_thread_created"]
[connection signal="ThreadCreated" from="spider" to="Scoreboard" method="_on_spider_thread_created"]
[connection signal="InsectCreated" from="InsectSpawner" to="spider" method="_on_insect_spawner_insect_created"]
[connection signal="WaspCreated" from="InsectSpawner" to="spider" method="_on_insect_spawner_wasp_created"]
